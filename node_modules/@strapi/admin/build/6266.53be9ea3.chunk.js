(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[6266],{86409:function(T,f,e){"use strict";e.d(f,{F:function(){return g}});var t=e(32735),a=e(45509),n=e(67879),u=e(20108);const g=(o={},p={})=>{const{id:s="",...i}=o,{get:l}=(0,a.kY)(),{locale:m}=(0,n.Z)(),v=(0,a.Xe)(m,{sensitivity:"base"}),{data:c,error:d,isError:r,isLoading:y,refetch:M}=(0,u.useQuery)(["roles",s,i],async()=>{const{data:P}=await l(`/admin/roles/${s??""}`,{params:i});return P},p);return{roles:t.useMemo(()=>{let P=[];return s&&c?P=[c.data]:Array.isArray(c?.data)&&(P=c.data),[...P].sort((x,W)=>v.compare(x.name,W.name))},[c,s,v]),error:d,isError:r,isLoading:y,refetch:M}}},61234:function(T,f,e){"use strict";e.d(f,{v:function(){return n}});var t=e(32735),a=e(15062);function n(u,g){const o=(0,a.oR)();(0,t.useEffect)(()=>{o.injectReducer(u,g)},[o,u,g])}},98866:function(T,f,e){"use strict";e.d(f,{q:function(){return u}});var t=e(32735),a=e(45509),n=e(20108);function u({enabled:g}={enabled:!0}){const{get:o}=(0,a.kY)(),{data:p,isError:s,isLoading:i}=(0,n.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:v}}=await o("/admin/license-limit-information");return v},{enabled:g}),l=t.useMemo(()=>p??{},[p]),m=t.useCallback(v=>(l?.features??[]).find(d=>d.name===v)?.options??{},[l?.features]);return{license:l,getFeature:m,isError:s,isLoading:i}}},77061:function(T,f,e){"use strict";e.d(f,{CI:function(){return o},ES:function(){return a},FP:function(){return i},Js:function(){return m},Lk:function(){return c},Mu:function(){return s},PP:function(){return u},Pz:function(){return v},_V:function(){return g},fC:function(){return n},rI:function(){return l},wt:function(){return d},xn:function(){return p}});var t=e(2121);function a(r){return{type:t.bc,payload:{id:r}}}function n({workflow:r}){return{type:t.qZ,payload:r}}function u({workflows:r}){return{type:t.QM,payload:r}}function g(r){return{type:t.x4,payload:{stageId:r}}}function o(r={}){return{type:t.Ot,payload:r}}function p(r,y){return{type:t.Nj,payload:{stageId:r,...y}}}function s(r){return{type:t.k_,payload:r}}function i(r,y){return{type:t.$k,payload:{newIndex:y,oldIndex:r}}}function l(r){return{type:t.VS,payload:r}}function m(){return{type:t.gu}}function v(r){return{type:t.yq,payload:r}}function c(r){return{type:t.zn,payload:r}}function d(r){return{type:t.rg,payload:r}}},27187:function(T,f,e){"use strict";e.d(f,{eJ:function(){return A},lx:function(){return x},h4:function(){return O},fC:function(){return W}});var t=e(32735),a=e(96709),n=e(27649),u=e(17e3),g=e(82055),o=e(45509),p=e(29439),s=e(67879),i=e(17379),l=e(2121),m=e(87933),v=e(49372),c=e(16899),d=e(60216),r=e.n(d),y=e(8471);const M=(0,y.ZP)(m.k)`
  svg path {
    fill: ${({theme:w})=>w.colors.neutral600};
  }
`;function C({name:w}){return t.createElement(m.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,o.Q1)(300)},t.createElement(M,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(c.Z,{width:`${8/16}rem`})),t.createElement(v.Z,{fontWeight:"bold"},w))}C.propTypes={name:r().string.isRequired};function P({type:w,item:R}){switch(w){case l.uL.STAGE:return t.createElement(C,{...R});default:return null}}function x(){return t.createElement(i.r,{renderItem:P})}function W({children:w}){return t.createElement(a.A,null,t.createElement(n.o,{tabIndex:-1},t.createElement(u.D,null,w)))}function A({href:w}){const{formatMessage:R}=(0,s.Z)();return t.createElement(o.rU,{startIcon:t.createElement(p.Z,null),to:w},R({id:"global.back",defaultMessage:"Back"}))}function O({title:w,subtitle:R,navigationAction:I,primaryAction:$}){return t.createElement(t.Fragment,null,t.createElement(o.SL,{name:w}),t.createElement(g.T,{navigationAction:I,primaryAction:$,title:w,subtitle:R}))}},90562:function(T,f,e){"use strict";e.d(f,{uT:function(){return P},fC:function(){return A},Dx:function(){return C}});var t=e(32735),a=e(49372),n=e(87933),u=e(85025),g=e(31600),o=e(72850),p=e(50563),s=e(95489),i=e(35331),l=e(60216),m=e.n(l),v=e(67879),c=e(8471),d=e.p+"0cd5f8915b265d5b1856.png";const r="limits-title",y="https://strapi.io/pricing-cloud",M="https://strapi.io/contact-sales";function C({children:O}){return t.createElement(a.Z,{variant:"alpha",id:r},O)}C.propTypes={children:m().node.isRequired};function P({children:O}){return t.createElement(a.Z,{variant:"omega"},O)}P.propTypes={children:m().node.isRequired};function x(){const{formatMessage:O}=(0,v.Z)();return t.createElement(n.k,{gap:2,paddingTop:4},t.createElement(s.Q,{variant:"default",isExternal:!0,href:y},O({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(s.Q,{variant:"tertiary",isExternal:!0,href:M},O({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const W=c.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:O})=>`-${O.spaces[7]}`};
  margin-top: ${({theme:O})=>`-${O.spaces[7]}`};
  width: 360px;
`;function A({children:O,isOpen:w,onClose:R}){const{formatMessage:I}=(0,v.Z)();return w?t.createElement(u.P,{labelledBy:r},t.createElement(g.f,null,t.createElement(n.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(n.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},O,t.createElement(x,null)),t.createElement(n.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(W,{src:d,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(o.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(p.h,{icon:t.createElement(i.Z,null),"aria-label":I({id:"global.close",defaultMessage:"Close"}),onClick:R})))))):null}A.defaultProps={isOpen:!1},A.propTypes={children:m().node.isRequired,isOpen:m().bool,onClose:m().func.isRequired}},45594:function(T,f,e){"use strict";e.d(f,{U:function(){return ae}});var t=e(32735),a=e(72850),n=e(87933),u=e(45509),g=e(60216),o=e.n(g),p=e(67879),s=e(15062),i=e(8471),l=e(77061),m=e(49372),v=e(86308);const c=(0,i.ZP)(v.Z)`
  > circle {
    fill: ${({theme:h})=>h.colors.neutral150};
  }
  > path {
    fill: ${({theme:h})=>h.colors.neutral600};
  }
`,d=(0,i.ZP)(a.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:h})=>h.spaces[6]};
    width: ${({theme:h})=>h.spaces[6]};

    > path {
      fill: ${({theme:h})=>h.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:h})=>h.colors.primary600} !important;
    ${m.Z} {
      color: ${({theme:h})=>h.colors.primary600} !important;
    }

    ${c} {
      > circle {
        fill: ${({theme:h})=>h.colors.primary600};
      }
      > path {
        fill: ${({theme:h})=>h.colors.neutral100};
      }
    }
  }

  &:active {
    ${m.Z} {
      color: ${({theme:h})=>h.colors.primary600};
    }

    ${c} {
      > circle {
        fill: ${({theme:h})=>h.colors.primary600};
      }
      > path {
        fill: ${({theme:h})=>h.colors.neutral100};
      }
    }
  }
`;function r({children:h,...B}){return t.createElement(d,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...B},t.createElement(n.k,{gap:2},t.createElement(c,{"aria-hidden":!0}),t.createElement(m.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},h)))}r.propTypes={children:o().node.isRequired};var y=e(6407),M=e(41415),C=e(3685),P=e(83828),x=e(61762),W=e(50563),A=e(89966),O=e(15335),w=e(5803),R=e(10369),I=e(77035),$=e(91647),Z=e(1594),V=e(49825),U=e(47081),j=e(92802),Q=e(51968),Y=e(69242),S=e(69997),b=e(2121),z=e(46111),k=e(68886);const _=(0,i.ZP)(y.ML)`
  padding-left: ${({theme:h})=>h.spaces[7]};
`,pe=(0,i.ZP)(n.k)`
  > * {
    flex-grow: 1;
  }
`,ve=(0,i.ZP)(M.z)`
  flex-shrink: 0;
`,Ee=(0,i.ZP)($.sN)`
  color: ${({theme:h})=>h.colors.danger600};
`,he=(0,k.s)();function ye(){return t.createElement(a.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function ie({id:h,index:B,canDelete:F,canReorder:re,canUpdate:N,isOpen:oe=!1,stagesCount:X}){const J=E=>`${E+1} of ${X}`,q=E=>{ee(D({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:K.value,position:J(E)}))},Se=E=>{ee(D({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:K.value,position:J(E)}))},Te=()=>{ee(D({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:K.value}))},Me=(E,L)=>{ee(D({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:K.value,position:J(E)})),G((0,l.FP)(L,E))},Oe=()=>{le(!0)},[ce,ee]=t.useState(null),{formatMessage:D}=(0,p.Z)(),{trackUsage:Pe}=(0,u.rS)(),G=(0,s.I0)(),xe=(0,u.lm)(),[se,Ae]=t.useState(oe),[Ce,le]=t.useState(!1),[K,de,Re]=(0,j.U$)(`stages.${B}.name`),[te,ue,De]=(0,j.U$)(`stages.${B}.color`),[H,me,We]=(0,j.U$)(`stages.${B}.permissions`),Ie=(0,s.v9)(z.g$),[{handlerId:Le,isDragging:ke,handleKeyDown:be},Be,$e,Ze,ge]=(0,Y.Y9)(re,{index:B,item:{name:K.value},onGrabItem:q,onDropItem:Se,onMoveItem:Me,onCancel:Te,type:b.uL.STAGE}),Ue=(0,S.FE)(Be,$e),Ne=he.map(({hex:E,name:L})=>({value:E,label:D({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:L}),color:E})),{themeColorName:je}=(0,k.k)(te.value)??{},fe=Ie.filter(E=>E.code!=="strapi-super-admin");return t.useEffect(()=>{ge((0,Q.rX)(),{captureDraggingState:!1})},[ge,B]),t.createElement(a.x,{ref:Ue},ce&&t.createElement(C.T,{"aria-live":"assertive"},ce),ke?t.createElement(ye,null):t.createElement(P.U,{size:"S",variant:"primary",onToggle:()=>{Ae(!se),se||Pe("willEditStage")},expanded:se,shadow:"tableShadow",error:de.error??ue?.error??me?.error??!1,hasErrorMessage:!1},t.createElement(x.B,{title:K.value,togglePosition:"left",action:(F||N)&&t.createElement(n.k,null,t.createElement(Z.fC,null,t.createElement(Z.xz,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},t.createElement(V.Z,{"aria-hidden":!0,focusable:!1}),t.createElement(C.T,{as:"span"},D({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),t.createElement(Z.VY,{popoverPlacement:"bottom-end",zIndex:2},t.createElement(Z.rl,null,N&&t.createElement($.sN,{onClick:()=>G((0,l.ES)(h))},D({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),F&&t.createElement(Ee,{onClick:()=>G((0,l._V)(h))},D({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),N&&t.createElement(W.h,{background:"transparent",forwardedAs:"div",role:"button",noBorder:!0,tabIndex:0,"data-handler-id":Le,ref:Ze,label:D({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:E=>E.stopPropagation(),onKeyDown:be},t.createElement(U.Z,null)))}),t.createElement(A.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(O.r,{gap:4},t.createElement(w.P,{col:6},t.createElement(R.o,{...K,id:K.name,disabled:!N,label:D({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:de.error??!1,onChange:E=>{Re.setValue(E.target.value),G((0,l.xn)(h,{name:E.target.value}))},required:!0})),t.createElement(w.P,{col:6},t.createElement(I.q4,{disabled:!N,error:ue?.error??!1,id:te.name,required:!0,label:D({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:E=>{De.setValue(E),G((0,l.xn)(h,{color:E}))},value:te.value.toUpperCase(),startIcon:t.createElement(n.k,{as:"span",height:2,background:te.value,borderColor:je==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},Ne.map(({value:E,label:L,color:ne})=>{const{themeColorName:Ke}=(0,k.k)(ne);return t.createElement(I.ag,{value:E,key:E,startIcon:t.createElement(n.k,{as:"span",height:2,background:ne,borderColor:Ke==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},L)}))),t.createElement(w.P,{col:6},fe.length===0?t.createElement(u.X0,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:H.name}):t.createElement(n.k,{alignItems:"flex-end",gap:3},t.createElement(pe,{grow:1},t.createElement(y.NU,{...H,disabled:!N,error:me.error??!1,id:H.name,label:D({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:E=>{const L=E.map(ne=>({role:parseInt(ne,10),action:"admin::review-workflows.stage.transition"}));We.setValue(L),G((0,l.xn)(h,{permissions:L}))},placeholder:D({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(H.value??[]).map(E=>`${E.role}`),withTags:!0},[{label:D({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:fe.map(E=>({value:`${E.id}`,label:E.name}))}].map(E=>"children"in E?t.createElement(y.Ab,{key:E.label,label:E.label,values:E.children.map(L=>L.value)},E.children.map(L=>t.createElement(_,{key:L.value,value:L.value},L.label))):t.createElement(y.ML,{key:E.value,value:E.value},E.label)))),t.createElement(ve,{disabled:!N,size:"L",type:"button",variant:"secondary",onClick:()=>Oe(H.value)},D({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}))))))),t.createElement(u.QH.Root,{isOpen:Ce,onToggleDialog:()=>le(!1),onConfirm:()=>{G((0,l.Mu)({permissions:H.value})),le(!1),xe({type:"success",message:D({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})}},t.createElement(u.QH.Body,null,t.createElement(m.Z,{textAlign:"center",variant:"omega"},D({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}ie.propTypes=o().shape({id:o().number.isRequired,color:o().string.isRequired,canDelete:o().bool.isRequired,canReorder:o().bool.isRequired,canUpdate:o().bool.isRequired,stagesCount:o().number.isRequired}).isRequired;const we=(0,i.ZP)(a.x)`
  transform: translateX(-50%);
`;function ae({canDelete:h,canUpdate:B,stages:F}){const{formatMessage:re}=(0,p.Z)(),N=(0,s.I0)(),{trackUsage:oe}=(0,u.rS)();return t.createElement(n.k,{direction:"column",gap:6,width:"100%"},t.createElement(a.x,{position:"relative",spacing:4,width:"100%"},t.createElement(we,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(n.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},F.map((X,J)=>{const q=X?.id??X.__temp_key__;return t.createElement(a.x,{key:`stage-${q}`,as:"li"},t.createElement(ie,{id:q,index:J,isOpen:!X.id,canDelete:F.length>1&&h,canReorder:F.length>1,canUpdate:B,stagesCount:F.length}))}))),B&&t.createElement(r,{type:"button",onClick:()=>{N((0,l.CI)({name:""})),oe("willCreateStage")}},re({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}ae.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},ae.propTypes={canDelete:o().bool,canUpdate:o().bool,stages:o().arrayOf(o().shape({id:o().number,__temp_key__:o().number,name:o().string.isRequired}))}},165:function(T,f,e){"use strict";e.d(f,{Y:function(){return C}});var t=e(32735),a=e(6407),n=e(49372),u=e(15335),g=e(5803),o=e(10369),p=e(45509),s=e(92802),i=e(60216),l=e.n(i),m=e(67879),v=e(15062),c=e(8471),d=e(77061),r=e(46111);const y=(0,c.ZP)(a.ML)`
  padding-left: ${({theme:P})=>P.spaces[7]};
`,M=(0,c.ZP)(n.Z)`
  font-style: italic;
`;function C({canUpdate:P}){const{formatMessage:x,locale:W}=(0,m.Z)(),A=(0,v.I0)(),{collectionTypes:O,singleTypes:w}=(0,v.v9)(r.HK),R=(0,v.v9)(r.DV),I=(0,v.v9)(r.D6),[$,Z,V]=(0,s.U$)("name"),[U,j,Q]=(0,s.U$)("contentTypes"),Y=(0,p.Xe)(W,{sensitivity:"base"});return t.createElement(u.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(g.P,{col:6},t.createElement(o.o,{...$,id:$.name,disabled:!P,label:x({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:Z.error??!1,onChange:S=>{A((0,d.rI)({name:S.target.value})),V.setValue(S.target.value)},required:!0})),t.createElement(g.P,{col:6},t.createElement(a.NU,{...U,customizeContent:S=>x({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:S.length}),disabled:!P,error:j.error??!1,id:U.name,label:x({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:S=>{A((0,d.rI)({contentTypes:S})),Q.setValue(S)},placeholder:x({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...O.length>0?[{label:x({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...O].sort((S,b)=>Y.compare(S.info.displayName,b.info.displayName)).map(S=>({label:S.info.displayName,value:S.uid}))}]:[],...w.length>0?[{label:x({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...w].map(S=>({label:S.info.displayName,value:S.uid}))}]:[]].map(S=>"children"in S?t.createElement(a.Ab,{key:S.label,label:S.label,values:S.children.map(b=>b.value.toString())},S.children.map(b=>{const{name:z}=I.find(k=>(R&&k.id!==R.id||!R)&&k.contentTypes.includes(b.value))??{};return t.createElement(y,{key:b.value,value:b.value},x({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:b.label,name:z,em:(...k)=>t.createElement(n.Z,{as:"em",fontWeight:"bold"},k),i:(...k)=>t.createElement(M,null,k)}))})):t.createElement(a.ML,{key:S.value,value:S.value},S.label)))))}C.defaultProps={canUpdate:!0},C.propTypes={canUpdate:l().bool}},2121:function(T,f,e){"use strict";e.d(f,{$k:function(){return d},Ef:function(){return P},FT:function(){return M},Nj:function(){return v},Ot:function(){return l},QM:function(){return s},VS:function(){return r},_X:function(){return x},bc:function(){return m},gu:function(){return n},k_:function(){return c},lv:function(){return y},qZ:function(){return p},rg:function(){return g},sN:function(){return a},uL:function(){return C},x4:function(){return i},yq:function(){return u},zn:function(){return o}});var t=e(12301);const a="settings_review-workflows",n="Settings/Review_Workflows/RESET_WORKFLOW",u="Settings/Review_Workflows/SET_CONTENT_TYPES",g="Settings/Review_Workflows/SET_IS_LOADING",o="Settings/Review_Workflows/SET_ROLES",p="Settings/Review_Workflows/SET_WORKFLOW",s="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",l="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",m="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",v="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",c="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",d="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",r="Settings/Review_Workflows/WORKFLOW_UPDATE",y={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},M=t.W.colors.primary600,C={STAGE:"stage"},P="numberOfWorkflows",x="stagesPerWorkflow"},32329:function(T,f,e){"use strict";e.d(f,{n:function(){return u}});var t=e(32735),a=e(45509),n=e(20108);function u(g={}){const{get:o}=(0,a.kY)(),{id:p="",...s}=g,i={populate:"stages"},{data:l,isLoading:m,status:v,refetch:c}=(0,n.useQuery)(["review-workflows","workflows",p],async()=>(await o(`/admin/review-workflows/workflows/${p}`,{params:{...i,...s}})).data),d=t.useMemo(()=>p&&l?.data?[l.data]:Array.isArray(l?.data)?l.data:[],[l?.data,p]);return{meta:t.useMemo(()=>l?.meta??{},[l?.meta]),workflows:d,isLoading:m,status:v,refetch:c}}},79989:function(T,f,e){"use strict";e.d(f,{E:function(){return n},I:function(){return u}});var t=e(97889),a=e(2121);const n={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function u(o=n,p){return(0,t.Uy)(o,s=>{const{payload:i}=p;switch(p.type){case a.yq:{s.serverState.contentTypes=i;break}case a.rg:{s.clientState.isLoading=i;break}case a.zn:{s.serverState.roles=i;break}case a.qZ:{const l=i;l&&(s.serverState.workflow=l,s.clientState.currentWorkflow.data={...l,stages:l.stages.map(m=>({...m,color:m?.color??a.FT}))});break}case a.QM:{s.serverState.workflows=i;break}case a.gu:{s.clientState=n.clientState,s.serverState=n.serverState;break}case a.x4:{const{stageId:l}=i,{currentWorkflow:m}=o.clientState;s.clientState.currentWorkflow.data.stages=m.data.stages.filter(v=>(v?.id??v.__temp_key__)!==l);break}case a.Ot:{const{currentWorkflow:l}=o.clientState;l.data||(s.clientState.currentWorkflow.data={stages:[]});const m=g(s.clientState.currentWorkflow.data.stages);s.clientState.currentWorkflow.data.stages.push({...i,color:i?.color??a.FT,__temp_key__:m});break}case a.bc:{const{currentWorkflow:l}=o.clientState,{id:m}=i,v=l.data.stages.findIndex(d=>(d?.id??d?.__temp_key__)===m),c=l.data.stages[v];s.clientState.currentWorkflow.data.stages.splice(v+1,0,{...c,id:void 0,__temp_key__:g(s.clientState.currentWorkflow.data.stages)});break}case a.Nj:{const{currentWorkflow:l}=o.clientState,{stageId:m,...v}=i;s.clientState.currentWorkflow.data.stages=l.data.stages.map(c=>(c.id??c.__temp_key__)===m?{...c,...v}:c);break}case a.k_:{const{currentWorkflow:l}=o.clientState;s.clientState.currentWorkflow.data.stages=l.data.stages.map(m=>({...m,...i}));break}case a.$k:{const{currentWorkflow:{data:{stages:l}}}=o.clientState,{newIndex:m,oldIndex:v}=i;if(m>=0&&m<l.length){const c=l[v];let d=[...l];d.splice(v,1),d.splice(m,0,c),s.clientState.currentWorkflow.data.stages=d}break}case a.VS:{s.clientState.currentWorkflow.data={...s.clientState.currentWorkflow.data,...i};break}default:break}})}const g=(o=[])=>{const p=o.map(s=>s.id??s.__temp_key__);return Math.max(...p,-1)+1}},46111:function(T,f,e){"use strict";e.d(f,{CA:function(){return v},D6:function(){return l},DV:function(){return i},HK:function(){return p},RR:function(){return d},bH:function(){return m},g$:function(){return s},xU:function(){return c}});var t=e(89793),a=e.n(t),n=e(98178),u=e(2121),g=e(79989);const o=r=>r[u.sN]??g.E,p=(0,n.P1)(o,({serverState:{contentTypes:r}})=>r),s=(0,n.P1)(o,({serverState:{roles:r}})=>r),i=(0,n.P1)(o,({clientState:{currentWorkflow:r}})=>r.data),l=(0,n.P1)(o,({serverState:{workflows:r}})=>r),m=(0,n.P1)(o,({serverState:r,clientState:{currentWorkflow:y}})=>!a()(r.workflow,y.data)),v=(0,n.P1)(o,({serverState:r,clientState:{currentWorkflow:y}})=>!(r.workflow?.stages??[]).every(M=>!!y.data.stages.find(({id:C})=>C===M.id))),c=(0,n.P1)(o,({clientState:{isLoading:r}})=>r),d=(0,n.P1)(o,({serverState:r})=>r)},68886:function(T,f,e){"use strict";e.d(f,{k:function(){return n},s:function(){return u}});var t=e(12301),a=e(2121);function n(g){if(!g)return null;const p=Object.entries(t.W.colors).filter(([,s])=>s.toUpperCase()===g.toUpperCase()).reduce((s,[i])=>(a.lv?.[i]&&(s=i),s),null);return p?{themeColorName:p,name:a.lv[p]}:null}function u(){return Object.entries(a.lv).map(([g,o])=>({hex:t.W.colors[g].toUpperCase(),name:o}))}},82920:function(T,f,e){"use strict";e.d(f,{V:function(){return u}});var t=e(3040),a=e.n(t),n=e(24346);async function u({values:g,formatMessage:o}){const p=n.Ry({contentTypes:n.IX().of(n.Z_()),name:n.Z_().max(255,o({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:n.IX().of(n.Ry().shape({name:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,o({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",o({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(s){const{options:{context:i}}=this;return i.stages.filter(l=>l.name===s).length===1}),color:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:n.IX(n.Ry({role:n.Rx().strict().typeError(o({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:n.Z_().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await p.validate(g,{abortEarly:!1,context:g}),!0}catch(s){let i={};return s instanceof n.p8&&s.inner.forEach(l=>{a()(i,l.path,l.message)}),i}}},51355:function(T,f,e){var t=e(94318),a=e(3387),n="[object Boolean]";function u(g){return g===!0||g===!1||a(g)&&t(g)==n}T.exports=u},95919:function(T,f,e){var t=e(80022);function a(n){return t(n)&&n!=+n}T.exports=a},80022:function(T,f,e){var t=e(94318),a=e(3387),n="[object Number]";function u(g){return typeof g=="number"||a(g)&&t(g)==n}T.exports=u},83828:function(T,f,e){"use strict";e.d(f,{U:function(){return v},y:function(){return l}});var t=e(74512),a=e(32735),n=e(8471),u=e(91045),g=e(74971),o=e(49372),p=e(87933),s=e(72850);const i=({theme:c,expanded:d,variant:r,disabled:y,error:M})=>M?`1px solid ${c.colors.danger600} !important`:y?`1px solid ${c.colors.neutral150}`:d?`1px solid ${c.colors.primary600}`:r==="primary"?`1px solid ${c.colors.neutral0}`:`1px solid ${c.colors.neutral100}`,l=(0,n.ZP)(o.Z)``,m=(0,n.ZP)(s.x)`
  border: ${i};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:c})=>c.colors.primary600};

    ${l} {
      color: ${({theme:c,expanded:d})=>d?void 0:c.colors.primary700};
    }

    ${o.Z} {
      color: ${({theme:c,expanded:d})=>d?void 0:c.colors.primary600};
    }

    & > ${p.k} {
      background: ${({theme:c})=>c.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:c})=>c.colors.primary200};
    }
  }
`,v=({children:c,disabled:d=!1,error:r,expanded:y=!1,hasErrorMessage:M=!0,id:C,onToggle:P,toggle:x,size:W="M",variant:A="primary",shadow:O})=>{const w=(0,g.M)(C),R=a.useMemo(()=>({expanded:y,onToggle:P,toggle:x,id:w,size:W,variant:A,disabled:d}),[d,y,w,P,W,x,A]);return(0,t.jsxs)(u.S.Provider,{value:R,children:[(0,t.jsx)(m,{"data-strapi-expanded":y,disabled:d,"aria-disabled":d,expanded:y,hasRadius:!0,variant:A,error:r,shadow:O,children:c}),r&&M&&(0,t.jsx)(s.x,{paddingTop:1,children:(0,t.jsx)(o.Z,{variant:"pi",textColor:"danger600",children:r})})]})}},89966:function(T,f,e){"use strict";e.d(f,{v:function(){return u}});var t=e(74512),a=e(91045),n=e(72850);const u=({children:g,...o})=>{const{expanded:p,id:s}=(0,a.A)();if(!p)return null;const i=`accordion-content-${s}`,l=`accordion-label-${s}`,m=`accordion-desc-${s}`;return(0,t.jsx)(n.x,{role:"region",id:i,"aria-labelledby":l,"aria-describedby":m,...o,children:g})}},91045:function(T,f,e){"use strict";e.d(f,{A:function(){return n},S:function(){return a}});var t=e(32735);const a=(0,t.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),n=()=>(0,t.useContext)(a)},61762:function(T,f,e){"use strict";e.d(f,{B:function(){return c}});var t=e(74512),a=e(16899),n=e(8471),u=e(83828),g=e(91045);const o=({expanded:d,disabled:r,variant:y})=>{let M="neutral100";return d?M="primary100":r?M="neutral150":y==="primary"&&(M="neutral0"),M};var p=e(7563),s=e(99140),i=e(87933),l=e(49372);const m=(0,n.ZP)(p.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:d,expanded:r})=>r?d.colors.primary600:d.colors.neutral500};
    }
  }
`,v=(0,n.ZP)(i.k)`
  min-height: ${({theme:d,size:r})=>d.sizes.accordions[r]};
  border-radius: ${({theme:d,expanded:r})=>r?`${d.borderRadius} ${d.borderRadius} 0 0`:d.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:d})=>d.colors.primary600};
      }
    }
  }
`,c=({title:d,description:r,as:y="span",togglePosition:M="right",action:C,...P})=>{const{onToggle:x,toggle:W,expanded:A,id:O,size:w,variant:R,disabled:I}=(0,g.A)(),$=`accordion-content-${O}`,Z=`accordion-label-${O}`,V=`accordion-desc-${O}`,U=w==="M"?6:4,j=w==="M"?U:U-2,Q=o({expanded:A,disabled:I,variant:R}),Y={as:y,fontWeight:w==="S"?"bold":void 0,id:Z,textColor:A?"primary600":"neutral700",ellipsis:!0,variant:w==="M"?"delta":void 0},S=A?"primary600":"neutral600",b=A?"primary200":"neutral200",z=w==="M"?`${32/16}rem`:`${24/16}rem`,k=()=>{I||(W&&!x?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),W()):x&&x())},_=(0,t.jsx)(i.k,{justifyContent:"center",borderRadius:"50%",height:z,width:z,transform:A?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:b,cursor:I?"not-allowed":"pointer",onClick:k,shrink:0,children:(0,t.jsx)(s.J,{as:a.Z,width:w==="M"?`${11/16}rem`:`${8/16}rem`,color:A?"primary600":"neutral600"})});return(0,t.jsx)(v,{paddingBottom:j,paddingLeft:U,paddingRight:U,paddingTop:j,background:Q,expanded:A,size:w,justifyContent:"space-between",cursor:I?"not-allowed":"",children:(0,t.jsxs)(i.k,{gap:3,flex:1,maxWidth:"100%",children:[M==="left"&&_,(0,t.jsx)(m,{onClick:k,"aria-disabled":I,"aria-expanded":A,"aria-controls":$,"aria-labelledby":Z,"data-strapi-accordion-toggle":!0,expanded:A,type:"button",flex:1,minWidth:0,...P,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.y,{...Y,children:d}),r&&(0,t.jsx)(l.Z,{as:"p",id:V,textColor:S,children:r})]})}),M==="right"&&(0,t.jsxs)(i.k,{gap:3,children:[_,C]}),M==="left"&&C]})})}},29439:function(T,f,e){"use strict";e.d(f,{Z:function(){return n}});var t=e(74512);const a=u=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...u,children:(0,t.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),n=a},47081:function(T,f,e){"use strict";e.d(f,{Z:function(){return n}});var t=e(74512);const a=u=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...u,children:[(0,t.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),n=a},49825:function(T,f,e){"use strict";e.d(f,{Z:function(){return n}});var t=e(74512);const a=u=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...u,children:(0,t.jsx)("path",{fill:"#32324D",d:"M3.5 14.6a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Z"})}),n=a},86308:function(T,f,e){"use strict";e.d(f,{Z:function(){return n}});var t=e(74512);const a=u=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...u,children:[(0,t.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,t.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),n=a}}]);
